# 運営コスト分析・収益化設計レポート

**作成日**: 2026-03-02
**対象サービス**: おはなしエンディングノート（音声会話型エンディングノート作成支援アプリ）
**ターゲット**: 高齢者（60-80歳）

---

## 目次

1. [概要](#1-概要)
2. [機能別コスト分析](#2-機能別コスト分析)
3. [インフラコスト分析](#3-インフラコスト分析)
4. [データ保存の課題と保持ポリシー提案](#4-データ保存の課題と保持ポリシー提案)
5. [AIモデル戦略とリスク](#5-aiモデル戦略とリスク)
6. [ユーザーシナリオ別コスト試算](#6-ユーザーシナリオ別コスト試算)
7. [競合サービス料金調査](#7-競合サービス料金調査)
8. [料金プラン設計](#8-料金プラン設計)
9. [収益化戦略](#9-収益化戦略)
10. [コスト最適化の具体策](#10-コスト最適化の具体策)

---

## 1. 概要

### 調査の背景

本アプリは機能的には成立しているが、各機能の利用ごとに運営コストが発生するため、使い放題では赤字になる。行政書士との相談により年額プランがベストとの助言を受けた（一度作成したら頻繁に使うサービスではなく、データ保存の場として使われるため）。

### 主要な発見

| 項目 | 内容 |
|------|------|
| **1セッション（20分）の原価** | **約¥33（$0.22）** |
| **コストの89%** | 音声会話（gpt-realtime-mini）が占める |
| **標準ユーザーの年間原価** | 約¥363（11セッション） |
| **インフラ固定費** | 月¥750〜¥3,000（規模依存） |
| **最大のリスク** | データの無期限蓄積（自動クリーンアップなし） |
| **直接的な競合** | 存在しない（AI音声会話型は当サービスが世界初の可能性） |
| **推奨料金** | 基本プラン年額¥9,800（粗利率93%） |

### コスト構造の概観

```
1セッション = ¥33 の内訳:

gpt-realtime-mini（音声会話）  ¥32.40  ███████████████████████████████  89.2%
gpt-4o-mini-transcribe（再文字起こし）  ¥3.60  ███  9.7%
gpt-5-nano（要約）              ¥0.07  ▏  0.2%
gpt-4o-mini（TODO生成）         ¥0.25  ▏  0.8%
ストレージ（R2+DB）             微小    ▏  <0.1%
```

> **注**: 再文字起こし（gpt-4o-mini-transcribe）はオプション機能（enhanced-summarize）。標準フローでは約¥33、enhanced-summarize込みでは約¥37。

---

## 2. 機能別コスト分析

### 2.1 使用モデルと単価一覧

| 機能 | モデル | 用途ファイル | 入力単価 | 出力単価 |
|------|--------|------------|---------|---------|
| 音声会話 | gpt-realtime-mini | `routes/realtime.ts` | 音声: $10/1M tokens, テキスト: $0.60/1M | 音声: $20/1M tokens, テキスト: $2.40/1M |
| 会話要約 | gpt-5-nano | `services/summarizer.ts` | $0.05/1M tokens | $0.40/1M tokens |
| 高精度再文字起こし | gpt-4o-mini-transcribe | `services/transcriber.ts` | $1.25/1M tokens | $5.00/1M tokens |
| TODO自動生成 | gpt-4o-mini | `lib/todo-generator.ts` | $0.15/1M tokens | $0.60/1M tokens |
| 音声データ保存 | Cloudflare R2 | `lib/r2.ts` | $0.015/GB/月 | エグレス無料 |
| データベース | Railway PostgreSQL | `db/connection.ts` | 従量課金 | - |
| 認証 | Firebase Auth | `lib/firebase-admin.ts` | 50,000 MAUまで無料 | - |

### 2.2 音声会話（gpt-realtime-mini）— 最大のコスト要因

#### トークン消費量の推定

20分セッションの想定配分（高齢者との会話特性を考慮）:
- ユーザー発話: 約8分（ゆっくり話す、自然な間が多い）
- AI応答: 約7分
- 沈黙/VAD処理中: 約5分（silence_duration_ms=800）

OpenAI Realtime APIの音声トークン変換レート:
- 音声入力: 1 token / 100ms（10 tokens/秒）
- 音声出力: 1 token / 50ms（20 tokens/秒）

| 項目 | 時間 | トークン数 | 単価 | コスト |
|------|------|-----------|------|--------|
| 音声入力 | 8分 = 480秒 | 4,800 tokens | $10/1M | $0.048（¥7.2） |
| 音声出力 | 7分 = 420秒 | 8,400 tokens | $20/1M | $0.168（¥25.2） |
| テキスト入力（システムプロンプト+ツール定義） | - | 7,000-10,000 tokens | $0.60/1M | $0.005（¥0.75） |
| テキスト出力（関数呼び出し等） | - | 500-1,000 tokens | $2.40/1M | $0.002（¥0.30） |
| **合計** | | | | **$0.223（¥33.4）** |

#### システムプロンプトの構成（テキストトークン内訳）

| 構成要素 | 推定トークン数 | ソース |
|---------|-------------|--------|
| キャラクター性格 | ~1,500 | `characters.ts` → `buildPersonality` |
| 共通会話ルール（6ブロック） | ~2,000 | `prompt-builder.ts` |
| カテゴリ固有指示 | ~200 | `CATEGORY_INSTRUCTIONS` |
| 話し方・ペース設定 | ~210 | `buildSpeakingStylePrompt` |
| 過去会話コンテキスト | ~300 | `pastContext` |
| 質問リスト（カテゴリ別） | ~500 | `buildQuestionsForCategories` |
| ツール認識プロンプト | ~1,200 | `TOOL_AWARENESS_PROMPT` |
| その他（家族/進行/セキュリティ） | ~550 | 各builder関数 |
| **合計（focusedモード）** | **~6,500** | |

ツール定義（`REALTIME_TOOLS` 13個）: 約2,000トークン追加

#### 1日・月間の最大コスト

- 1日最大（3セッション）: $0.67/日（¥99）
- 月最大（毎日3セッション×30日）: $20.07/月（¥2,970）← 理論上の最大値

### 2.3 会話要約（gpt-5-nano）

毎セッション終了後に自動実行。

| 項目 | トークン数 | 単価 | コスト |
|------|-----------|------|--------|
| 入力（システムプロンプト+トランスクリプト） | ~3,000 tokens | $0.05/1M | $0.00015 |
| 出力（構造化JSON） | ~800 tokens | $0.40/1M | $0.00032 |
| **合計** | | | **$0.00047（¥0.07）** |

> トランスクリプトの最大入力は30,000文字（`MAX_TRANSCRIPT_CHARS`）。日本語はトークン効率が低いが、gpt-5-nanoの単価が極めて安いためコスト影響は微小。

### 2.4 高精度再文字起こし（gpt-4o-mini-transcribe）

オプション機能（`enhanced-summarize`エンドポイント経由）。R2から音声をダウンロードし再度文字起こしする。

| 項目 | 推定値 | コスト |
|------|--------|--------|
| 8分のユーザー音声 | ~$0.003/分 × 8分 | **$0.024（¥3.6）** |

### 2.5 TODO自動生成（gpt-4o-mini）

ユーザーの明示的操作でのみ実行。

| 項目 | トークン数 | 単価 | コスト |
|------|-----------|------|--------|
| 入力（ノートエントリJSON） | ~5,000 tokens | $0.15/1M | $0.00075 |
| 出力（TODO配列） | ~1,500 tokens | $0.60/1M | $0.00090 |
| **合計** | | | **$0.00165（¥0.25）** |

### 2.6 セッション当たり総コストまとめ

| モデル | 用途 | コスト/セッション | 円換算 | 割合 |
|--------|------|-----------------|--------|------|
| gpt-realtime-mini | 音声会話 | $0.223 | ¥33.4 | 89.2% |
| gpt-4o-mini-transcribe | 再文字起こし（オプション） | $0.024 | ¥3.6 | 9.7% |
| gpt-5-nano | 会話要約 | $0.0005 | ¥0.07 | 0.2% |
| gpt-4o-mini | TODO生成（オンデマンド） | $0.002 | ¥0.25 | 0.8% |
| **合計（enhanced-summarize込み）** | | **$0.250** | **¥37.3** | **100%** |
| **合計（標準フロー）** | | **$0.224** | **¥33.5** | - |

---

## 3. インフラコスト分析

### 3.1 使用量モデルの前提

| 指標 | 想定値 | 根拠 |
|------|--------|------|
| アクティブ率（MAU/総ユーザー） | 60% | 高齢者向けアプリの一般的な継続率 |
| 月間セッション数/アクティブユーザー | 10回 | 週2-3回利用想定 |
| 平均セッション時間 | 15分 | 上限20分の75% |
| 1会話あたりDBデータ | ~30KB | transcript+note_entries+summary等 |
| 1会話あたり音声ファイル | ~500KB | WebM/Opus形式 |

### 3.2 規模別インフラコスト試算

#### Railway（サーバー+PostgreSQL）

| 規模 | CPU/メモリ | DBストレージ（1年後） | 月額コスト | プラン |
|------|-----------|-------------------|----------|--------|
| 10ユーザー | 0.1-0.2 vCPU, 256MB | ~50MB | **$5** | Hobby |
| 100ユーザー | 0.3-0.5 vCPU, 512MB | ~350MB | **$5** | Hobby |
| 1,000ユーザー | 1-2 vCPU, 1-2GB | ~3.5GB | **~$21** | Pro必須 |
| 10,000ユーザー | 4-8 vCPU, 4-8GB | ~35GB | **~$110** | Pro |

> Railway Hobbyプランは月額$5上限。DBが1GBを超える（100-300ユーザー規模）でProプラン（$20/月）への移行が必要。

#### Cloudflare R2（音声ファイルストレージ）

| 規模 | 月間新規 | 累積（1年後） | 月額コスト | 備考 |
|------|---------|-------------|----------|------|
| 10ユーザー | 30MB | 360MB | **$0** | 無料枠内（10GB） |
| 100ユーザー | 300MB | 3.6GB | **~$0.05** | |
| 1,000ユーザー | 3GB | 36GB | **~$0.54** | |
| 10,000ユーザー | 30GB | 360GB | **~$5.40** | |

> R2のエグレスは**無料**。コスト増加はストレージ累積のみ。Operations（Class A/B）も無料枠内に収まる。

#### Firebase Authentication

| 規模 | MAU | 月額コスト |
|------|-----|----------|
| 全規模（~50,000 MAUまで） | - | **$0**（無料） |

### 3.3 総合インフラコスト（月額、OpenAI API除く）

| 規模 | Railway | R2 | Firebase | **月額合計** | **年額合計** |
|------|---------|-----|---------|------------|-----------|
| 10ユーザー | $5 | $0 | $0 | **$5（¥750）** | **¥9,000** |
| 100ユーザー | $5 | ~$0.05 | $0 | **~$5（¥750）** | **¥9,000** |
| 1,000ユーザー | ~$21 | ~$0.54 | $0 | **~$22（¥3,300）** | **¥39,600** |
| 10,000ユーザー | ~$110 | ~$5.40 | $0 | **~$115（¥17,250）** | **¥207,000** |

> **OpenAI API（Realtime API）が圧倒的なコスト要因**。インフラコストは全体の数%に過ぎない。

---

## 4. データ保存の課題と保持ポリシー

### 4.1 現状の問題点

| 問題 | 詳細 | 影響 |
|------|------|------|
| **音声データの無期限保存** | R2に全音声が永久保存。自動削除なし | ストレージの線形増加 |
| **中間データの永久保存** | `improved_transcript`（再文字起こし結果）がどのAPIにも返されないまま永久保存 | DB肥大化（~15KB/会話） |
| **非アクティブアカウントの放置** | `last_active_at`フィールドなし。ログイン追跡なし | コストのみ発生 |
| **「データ保存の場」リスク** | ノート完成後、利用せずにデータだけ置く | 収入なしでコスト発生 |
| **自動クリーンアップなし** | `r2-cleanup.ts`はアカウント/会話削除時のみ | データ蓄積が止まらない |

### 4.2 データフィールド別の保持判断

コードベース調査に基づく各フィールドの削除可否。家族アクセス機能（`category-access.ts`の`formatConversationDetail()`）が`transcript`を家族に公開しているため、transcript本文は削除できない。

| フィールド | サイズ/会話 | 削除可否 | 理由 |
|-----------|-----------|---------|------|
| transcript | ~15KB | **不可** | オーナー表示（`toClientConversation`）+ 家族アクセスで使用 |
| improvedTranscript | ~15KB | **可** | どのAPIにも返されない中間データ。音声から再生成も可能 |
| transcriptionModel | ~30B | **可** | improvedTranscriptのメタデータ |
| summary | ~1KB | **不可** | 検索・家族アクセス・一覧表示で使用 |
| noteEntries | ~3KB | **不可** | エンディングノートの核心データ |
| keyPoints | ~1KB | **不可** | 検索・家族アクセスで使用 |
| topicAdherence | ~10B | **可**（低効果） | 分析メタデータ。UIで表示なし |
| offTopicSummary | ~200B | **可**（低効果） | 分析メタデータ。UIで表示なし |
| 音声ファイル (R2) | ~500KB | **可** | 要約完了後は再生用途のみ |

### 4.3 実装済みポリシー（`data-retention.ts`）

定期クリーンアップジョブとして実装済み。6時間間隔で実行。

#### ポリシー1: improvedTranscriptの自動クリーンアップ（7日後）

- **対象**: `summaryStatus = "completed"` かつ `improvedTranscript IS NOT NULL` かつ `createdAt < 7日前`
- **処理**: `improvedTranscript = null`, `transcriptionModel = null`
- **理由**: enhanced-summarize処理時にのみ生成される中間データ。要約完了後はどのAPIエンドポイントにも返されない。7日間の猶予で要約のやり直しにも対応
- **削減効果**: 会話あたり ~15KB

#### ポリシー2: 音声ファイルの自動削除（90日後）

- **対象**: `audioAvailable = true` かつ `startedAt < 90日前`
- **処理**: R2からオブジェクト削除 → DB更新 (`audioAvailable = false`, `audioStorageKey = null`)
- **理由**: 要約・テキストデータは全て保持。90日あれば音声の再確認は十分
- **実装**: R2ライフサイクルルールではなくコードで実装。理由: DB側の`audioAvailable`フラグとの整合性を保つため（ライフサイクルルールではDB更新ができず不整合が発生する）
- **削減効果**: 会話あたり ~500KB

**削減効果（10,000ユーザー・3年後）**:
```
対策なし: 1,080GB × $0.015 = $16.20/月
90日削除: 90GB上限 × $0.015 = $1.35/月
→ 年間 $178.20（91%）削減
```

#### ポリシー3: 分析メタデータのクリーンアップ（180日後）

- **対象**: `summaryStatus = "completed"` かつ `startedAt < 180日前`
- **処理**: `topicAdherence = null`, `offTopicSummary = null`
- **理由**: 分析メタデータはUI表示にも検索にも使用されない。長期保持の価値なし
- **削減効果**: 微小（会話あたり ~200B）

### 4.4 未実装ポリシー（将来課題）

#### transcript本文の段階的削除

当初、以下の段階的縮減を検討した:

| 経過期間 | 残すデータ | サイズ |
|---------|----------|-------|
| 0-30日 | 全フィールド | ~30KB/会話 |
| 30-180日 | note_entries + summary + key_points + transcript | ~20KB |
| 180日以降 | note_entries + summary + key_points + one_liner_summary | ~6KB |

**実装を見送った理由**: `category-access.ts`の`formatConversationDetail()`が`transcript`を家族に返しているため、削除すると家族アクセス機能が壊れる。`conversations.ts`の`toClientConversation()`もオーナーに`transcript`を返しており、会話詳細表示に必要。transcript削除にはUIの設計変更（「テキスト全文は保存期間終了しました」等の表示）と家族アクセスポリシーの再設計が必要であり、現段階では見送る。

#### 非アクティブアカウントの処理

```
6ヶ月未ログイン  → 通知「アカウントが休止状態です」
9ヶ月未ログイン  → 2回目通知「30日後に休止処理します」
10ヶ月未ログイン → 凍結（データ保持、音声のみ削除）
2年未ログイン   → トランスクリプト縮減（summary + note_entries のみ保持）
3年未ログイン   → 最終通知 → アカウント削除
```

**未実装の理由**: `users`テーブルに`last_active_at`カラム追加 + マイグレーション + バッチジョブが必要。サービスのユーザー数が増加した段階で実装を検討する。

### 4.5 ポリシー組み合わせ効果（10,000ユーザー・3年後）

| シナリオ | R2月額 | DB月額 | 合計月額 | 年間コスト |
|---------|--------|--------|---------|----------|
| **対策なし** | $16.20 | $17.50 | $33.70 | $404.40 |
| **実装済みポリシー** | $1.35 | $14.00 | **$15.35** | **$184.20** |
| 実装済み+transcript削除 | $1.35 | $7.50 | $8.85 | $106.20 |
| 全ポリシー（非アクティブ含む） | $0.60 | $5.00 | $5.60 | $67.20 |

**現時点の削減効果**: 年間 $220.20（54%）削減

### 4.6 データ量の長期予測

| 時期 | ユーザー数 | R2（対策なし） | R2（実装済み） | DB（対策なし） | DB（実装済み） |
|------|-----------|-------------|--------------|-------------|--------------|
| 1年後 | 1,000 | 36GB | 9GB | 3.5GB | 2.8GB |
| 3年後 | 10,000 | ~1.5TB | 90GB | ~70GB | ~56GB |
| 5年後 | 30,000 | ~8TB | 270GB | ~350GB | ~280GB |

---

## 5. AIモデル戦略とリスク

### 5.1 現在使用中のモデルと廃止リスク

| モデル | 用途 | リスク | 根拠 |
|--------|------|--------|------|
| gpt-realtime-mini | 音声会話 | **低** | Realtime APIの推奨モデル。GAリリース済み |
| gpt-5-nano | 要約 | **低** | 2025年8月リリースの最新モデル |
| gpt-4o-mini-transcribe | 文字起こし | **中** | GPT-4oシリーズの段階的廃止傾向だが、transcribe専用モデルは代替が少ない |
| gpt-4o-mini | TODO生成 | **中-高** | GPT-4oシリーズ。GPT-5ファミリーへの移行が公式推奨 |

### 5.2 GPT-4oシリーズ廃止の経緯

| 日付 | イベント |
|------|---------|
| 2025年9月 | gpt-4o-realtime-preview 廃止通知 → gpt-realtime-mini へ移行推奨 |
| 2026年2月 | chatgpt-4o-latest API廃止 |
| 2026年2月 | ChatGPTからGPT-4o, GPT-4.1, o4-mini廃止 |
| 2026年3月 | gpt-4o-realtime-preview API廃止（完了） |

### 5.3 推奨アクション

#### 即時対応（優先度: 高）

**gpt-4o-mini → gpt-5-nano への移行（TODO生成）**

ファイル: `app/server/src/lib/todo-generator.ts` L30

```
変更: const MODEL = "gpt-4o-mini" → "gpt-5-nano"
```

- コスト比較: 入力 $0.15→$0.05（67%減）、出力 $0.60→$0.40（33%減）
- TODO生成コスト: $0.002→$0.0007/回（**65%削減**）
- gpt-5-nanoはJSON出力対応済み、temperature指定も可能
- 廃止リスクの回避

#### 中期対応（優先度: 中）

**gpt-4o-mini-transcribe の後継モデル監視**

- 2026年3月時点で直接的な後継は未発表
- 四半期ごとにOpenAIモデルページを確認し、gpt-5系transcribeモデルが出た時点で移行テスト

#### 推奨モデル構成（2026年3月時点）

| 用途 | 現在 | 推奨 | 変更理由 |
|------|------|------|---------|
| 音声会話 | gpt-realtime-mini | **維持** | 安定・最適 |
| 会話要約 | gpt-5-nano | **維持** | 最新・最安 |
| 再文字起こし | gpt-4o-mini-transcribe | **維持・監視** | 代替なし |
| TODO生成 | gpt-4o-mini | **→ gpt-5-nano** | コスト1/3・廃止リスク回避 |

---

## 6. ユーザーシナリオ別コスト試算

### 6.1 前提条件

| 項目 | 数値 | 備考 |
|------|------|------|
| 1セッション原価（標準フロー） | ¥33（$0.22） | gpt-realtime-mini 20分 |
| 1セッション原価（enhanced込み） | ¥37（$0.25） | 再文字起こし含む |
| ストレージ/ユーザー/月 | ~¥1.5 | R2 + DB（微小） |
| 為替レート | $1 = ¥150 | 計算用 |

### 6.2 シナリオ別年間コスト

#### お試しユーザー（3セッションで離脱）

```
セッション: ¥33 × 3回 = ¥99
ストレージ: ~¥2
合計: ¥101
```

#### 標準ユーザー（推奨パターン）

```
初月:      5セッション × ¥33 = ¥165
2ヶ月目:   3セッション × ¥33 = ¥99
3-5ヶ月目: 1セッション × ¥33 × 3ヶ月 = ¥99
6-12ヶ月目: 保存のみ
合計: ¥363 + ストレージ ≒ ¥365（年間11セッション）
```

#### ヘビーユーザー

```
1-6ヶ月目:  10セッション × ¥33 × 6ヶ月 = ¥1,980
7-12ヶ月目: 2セッション × ¥33 × 6ヶ月 = ¥396
合計: ¥2,376 + ストレージ ≒ ¥2,380（年間72セッション）
```

#### 家族利用（本人+家族3人）

```
本人（標準パターン）: ¥365
家族3人（閲覧のみ）: ストレージのみ ~¥54
合計: ¥419
```

#### 保存のみユーザー（休眠）

```
セッション: ¥0
ストレージ: ~¥18
合計: ¥18/年
```

### 6.3 コストサマリー

| シナリオ | 年間セッション | 年間原価 | 備考 |
|---------|-------------|---------|------|
| お試し（離脱） | 3 | **¥101** | 無料トライアルで吸収可能 |
| 標準 | 11 | **¥365** | 基準シナリオ |
| ヘビー | 72 | **¥2,380** | セッション制限が重要 |
| 家族利用 | 11（本人のみ） | **¥419** | 家族追加コストは微小 |
| 保存のみ | 0 | **¥18** | 年額プランなら純利益 |

---

## 7. 競合サービス料金調査

### 7.1 デジタルエンディングノートアプリ

| サービス名 | 提供元 | 料金 | 主な機能 | ターゲット |
|-----------|--------|------|---------|----------|
| **楽クラライフノート** | NTTファイナンス | 月額300円（年額約3,600円） | エンディングノート、資産管理、家族共有、銀行口座連携 | 50-70代 |
| **100年ノート** | 100年ライフデザイン・ラボ | 無料〜月額500円程度 | エンディングノート、ライフプラン、健康管理 | 50-80代 |
| **わが家ノート** | 鎌倉新書 | 無料 | エンディングノート、葬儀社検索連携 | 50-70代 |
| **一般的なアプリストア** | 個人開発者 | 無料〜買い切り500円 | 基本的なテンプレート入力、PDF出力 | 全年代 |
| **エターナルメッセージ** | 各社 | 月額500-1,000円 | 動画遺言、メッセージ保管、指定日配信 | 40-70代 |

> **注**: 上記は2025-2026年時点の公開情報。最新料金は別途確認を推奨。

### 7.2 終活関連サービスの相場

| サービスカテゴリ | 料金相場 |
|----------------|---------|
| 終活アプリ（月額制） | 月額300-500円 |
| 終活アプリ（買い切り） | 500-1,500円 |
| デジタル遺品管理 | 月額500-1,500円 |
| 終活コンサルティング（行政書士） | 1回5,000-30,000円 |
| 終活コンサルティング（FP） | 1回10,000-50,000円 |
| 遺言書作成サポート（行政書士） | 50,000-100,000円 |

### 7.3 AI会話機能を持つ類似サービス

**AI音声会話でエンディングノートを作成するサービスは現時点で存在しない**（当サービスが世界初の可能性が高い）。

近接領域:

| サービス | 料金 | AI機能 | 終活関連 |
|---------|------|--------|---------|
| HEROES（AIボイスロボット） | 月額4,980円程度 | AI音声会話 | なし（孤独感解消） |
| 相続AIアドバイザー | 無料-月額1,000円 | テキストチャットAI | 相続税シミュレーション |
| ChatGPT Plus | 月額$20（約3,000円） | 汎用AI会話 | なし |

### 7.4 高齢者の価格感度

| 価格帯 | 高齢者の感覚 |
|--------|------------|
| 月額300-500円 | 心理的ハードル低い。「新聞の月額」程度 |
| 月額1,000円 | 「やや高い」。明確な価値提示が必要 |
| 年額3,000-5,000円 | 許容範囲。「書籍1-2冊」の感覚 |
| 年額10,000円超 | 「高い」が、AI音声会話の付加価値で許容可能 |
| 年額30,000円超 | かなり抵抗感。相当な説明と納得感が必要 |

### 7.5 競合優位性

当アプリの差別化ポイント:
1. **音声会話によるノート作成**: テキスト入力不要 → 高齢者の最大の障壁を除去
2. **AIキャラクター**: 感情的つながり → 継続利用の動機
3. **11カテゴリの網羅的質問体系**: 行政書士監修の専門性
4. **家族ライフサイクル管理**: 死亡報告→同意→開封のフロー
5. **会話からの自動抽出**: 話すだけでノートが完成

> **ポジショニング**: 「エンディングノートアプリ」ではなく「AIを活用した終活支援サービス」として、終活コンサルティング1回分（¥5,000-30,000）との比較で価格を正当化できる。

---

## 8. 料金プラン設計

### 8.1 設計方針

1. **年額プラン基本**（行政書士助言）
2. **セッション数制限**でコスト予測可能に
3. **標準ユーザーで高い粗利率を確保**（原価が低いため可能）
4. **月額換算1,000円以下を意識**（高齢者の価格感度）
5. **競合の2-3倍の価格帯**（AI音声会話で差別化）

### 8.2 プラン一覧

#### 無料トライアル

| 項目 | 内容 |
|------|------|
| **料金** | ¥0 |
| **期間** | 14日間 |
| **セッション数** | 最大2回 |
| **セッション時間** | 1回10分（通常の半分） |
| **含まれる機能** | 音声会話、ノート閲覧、キャラクター選択 |
| **含まれない機能** | 家族共有、印刷/PDF、TODO管理、共有リンク |
| **想定原価** | ¥33 × 2回 × (10分/20分) = **¥33** |

> 2セッション×10分で「話すだけでノートができる」体験を提供。原価¥33と極めて低リスク。

#### 基本プラン（おはなしプラン）

| 項目 | 内容 |
|------|------|
| **料金（税込）** | **¥9,800/年**（月額換算 ¥817） |
| **月間セッション数** | 3回まで（年間最大36回） |
| **セッション時間** | 1回20分 |
| **1日あたりの制限** | 最大2回/日 |
| **ストレージ** | 無制限 |
| **含まれる機能** | 音声会話、ノート閲覧・編集、会話履歴・検索、キャラクター選択、印刷/PDF |
| **含まれない機能** | 家族管理、TODO管理、共有リンク |

**粗利計算（標準ユーザー・年間11セッション）**:
```
年間収入: ¥9,800
年間原価: ¥365
粗利:    ¥9,435
粗利率:  96.3%
```

**粗利計算（月3回フル利用ユーザー・年間36セッション）**:
```
年間収入: ¥9,800
年間原価: ¥33 × 36 = ¥1,188
粗利:    ¥8,612
粗利率:  87.9%
```

> 原価が¥33/セッションと非常に低いため、月3回フル利用でも**87.9%の粗利率**を維持できる。

#### プレミアムプラン（しっかりプラン）

| 項目 | 内容 |
|------|------|
| **料金（税込）** | **¥19,800/年**（月額換算 ¥1,650） |
| **月間セッション数** | 8回まで（年間最大96回） |
| **セッション時間** | 1回20分 |
| **1日あたりの制限** | 最大3回/日 |
| **ストレージ** | 無制限 |
| **含まれる機能** | 基本プラン全機能 + 家族管理（3名まで）、TODO自動生成、共有リンク、優先サポート |
| **追加特典** | 家族ライフサイクル管理（死亡報告→同意→開封フロー） |

**粗利計算（標準ユーザー）**:
```
年間収入: ¥19,800
年間原価: ¥365
粗利率:  98.2%
```

**粗利計算（ヘビーユーザー・月8回フル利用）**:
```
年間収入: ¥19,800
年間原価: ¥33 × 96 = ¥3,168
粗利:    ¥16,632
粗利率:  84.0%
```

> ヘビーユーザーが月8回フル利用しても**84%の粗利率**。赤字リスクは極めて低い。

#### 家族プラン（オプション）

| 項目 | 内容 |
|------|------|
| **料金（税込）** | **+¥3,000/年**（プレミアムプランへのアドオン） |
| **追加家族メンバー数** | +5名（合計8名まで） |
| **家族の機能** | ノート閲覧、TODO閲覧・コメント、通知受信 |
| **想定粗利率** | **95%以上**（家族追加コストはストレージ数円/月のみ） |

### 8.3 プラン比較サマリー

| | 無料トライアル | 基本プラン | プレミアムプラン | 家族オプション |
|--|-------------|-----------|-------------|-------------|
| **料金（税込/年）** | ¥0 | ¥9,800 | ¥19,800 | +¥3,000 |
| **月額換算** | - | ¥817 | ¥1,650 | +¥250 |
| **月間セッション** | 2回/14日 | 3回/月 | 8回/月 | - |
| **セッション時間** | 10分 | 20分 | 20分 | - |
| **家族メンバー** | - | - | 3名 | +5名 |
| **印刷/PDF** | - | あり | あり | - |
| **家族管理** | - | - | あり | あり |
| **TODO管理** | - | - | あり | - |
| **標準ユーザー粗利率** | -100% | **96%** | **98%** | **95%** |

### 8.4 競合比較での位置づけ

```
価格軸（年額）
¥0        ¥5,000     ¥10,000    ¥20,000    ¥30,000
|----------|----------|----------|----------|
 無料アプリ  楽クラ     ★基本      ★プレミアム
 (買い切り)  ライフ     プラン      プラン
             ノート
             (¥3,600)

機能軸
テキスト入力 → テキスト+資産連携 → AI音声会話+自動抽出+家族管理
```

**価格正当化のポイント**:
- 楽クラライフノートの約2.7倍（基本）〜5.5倍（プレミアム）
- ただしAI音声会話という唯一無二の機能で差別化
- 終活コンサルティング1回分（¥5,000-30,000）と比較すれば年額¥9,800は圧倒的にリーズナブル

### 8.5 利用制限の設計

#### 現在のセッション制限値とその根拠

`session-limits.ts` で定義されている制限値と、その設定根拠を以下に示す。

##### 1セッションの時間: 20分（`MAX_SESSION_DURATION_MS`）— 維持

20分を適切と判断した根拠:

| 観点 | 分析 |
|------|------|
| **コスト** | 1セッション原価¥33（$0.22）。仮に15分に短縮しても¥25（$0.17）で、削減額¥8は料金プランの粗利率（87-96%）に対して無視できる水準 |
| **高齢者のUX** | ユーザーの発話8分+AI応答7分+自然な間5分で20分を消費。15分では急かされる感覚が生じ、特に高齢者は「ゆっくり考えて話す」時間が必要 |
| **質問カバレッジ** | 1セッション20分で3-5問をカバー。15分だと2-3問に減り、ノート完成までのセッション数が増加 → 月間制限とのバランスが崩れる |
| **認知負荷** | 20分は高齢者の集中力の持続に適した長さ。30分以上だと疲労リスクが高まる |
| **競合比較** | 終活コンサルティング（対面）は通常30-60分/回。20分はデジタルサービスとして適切な短縮版 |

##### 1日のセッション回数: 3回（`MAX_DAILY_SESSIONS`）— 5回から変更

5回から3回に変更した根拠:

| 観点 | 旧（5回/日） | 新（3回/日） | 判断理由 |
|------|-----------|-----------|---------|
| **1日の最大会話時間** | 100分 | 60分 | 高齢者にとって1時間40分のAI会話は認知的に過剰。60分が適切 |
| **1日の最大コスト** | ¥165 | ¥99 | 40%のコスト削減 |
| **月最大コスト（制限なし時）** | ¥4,950 | ¥2,970 | 料金プラン導入前のコスト上限を抑制 |
| **ノート完成ペース** | 5-8日で全110問完了可能 | 8-12日で全110問完了可能 | どちらも十分な速度。高齢者には余裕のあるペースが望ましい |
| **プラン整合性** | 将来の最大プランで3回/日 | 一致 | 料金プラン導入時のギャップを防止 |
| **バースト保護** | 1日で月間割当の大半を消費するリスク | 適度に分散 | 月3回プランなら1日で全消費されない |

##### セッション制限の全体設計

```
     コスト制御の3層構造
     ┌──────────────────────────────────┐
     │ 層1: セッション時間（20分/回）    │ ← 1回あたりのコスト上限
     │ 層2: 日次制限（3回/日）          │ ← バースト防止
     │ 層3: 月次制限（プラン別、未実装）  │ ← 収益化後のコスト制御
     └──────────────────────────────────┘
```

現在は層1と層2が実装済み。層3（月次制限）は料金プラン導入時に実装する。

#### プラン別の制限値（将来）

| 制限項目 | 現行（実装済み） | 基本プラン | プレミアムプラン |
|---------|-------------|-----------|-------------|
| セッション時間 | 20分 | 20分 | 20分 |
| 1日あたり | **3回/日** | 2回/日 | 3回/日 |
| 月間セッション | なし（未実装） | 3回/月 | 8回/月 |

#### 機能関連

| 制限項目 | 基本プラン | プレミアムプラン |
|---------|-----------|-------------|
| TODO自動生成 | なし | 月3回まで |
| 共有リンク | なし | あり（30日期限） |
| 音声録音ダウンロード | なし | あり |
| 印刷/PDF | あり | あり |

#### データ関連

| 制限項目 | 基本プラン | プレミアムプラン |
|---------|-----------|-------------|
| 家族メンバー数 | 0名 | 3名（家族オプションで8名） |
| データ保存期間 | 契約中 + 解約後90日 | 契約中 + 解約後180日 |
| カテゴリ数 | 11全て | 11全て |

#### 現行システムからの変更履歴

| 項目 | 変更前 | 変更後 | 日付 | 理由 |
|------|--------|--------|------|------|
| 日次セッション上限 | 5回/日 | **3回/日** | 2026-03-02 | コスト分析に基づく適正化（上記参照） |
| 月次セッション上限 | なし | 未実装（プラン別で新設予定） | - | 料金プラン導入時に実装 |

---

## 9. 収益化戦略

### 9.1 損益分岐点

#### インフラのみ

```
インフラ固定費: ¥9,000/年
加重平均年間収入/ユーザー: ¥12,120
  (基本60%×¥9,800 + プレミアム30%×¥19,800 + 家族10%×¥3,000)
平均変動費/ユーザー/年: ¥365
貢献利益/ユーザー/年: ¥11,755

損益分岐点 = ¥9,000 / ¥11,755 = 1ユーザー
```

> インフラコストのみなら**1ユーザーで黒字化**。

#### 人件費込み

| 費用項目 | 年額 |
|---------|------|
| インフラ固定費 | ¥9,000 |
| 開発者人件費（パートタイム） | ¥3,000,000 |
| カスタマーサポート | ¥600,000 |
| マーケティング | ¥500,000 |
| **年間固定費合計** | **¥4,109,000** |

```
損益分岐点 = ¥4,109,000 / ¥11,755 = 350ユーザー
```

> 人件費込みで**約350ユーザーが損益分岐点**。

#### スケール別収益見通し

| ユーザー数 | 年間売上 | 年間変動費 | 年間固定費 | 営業利益 |
|-----------|---------|----------|----------|---------|
| 100 | ¥1,212,000 | ¥36,500 | ¥4,109,000 | **-¥2,933,500** |
| 350 | ¥4,242,000 | ¥127,750 | ¥4,109,000 | **¥5,250** |
| 1,000 | ¥12,120,000 | ¥365,000 | ¥4,149,000 | **¥7,606,000** |
| 3,000 | ¥36,360,000 | ¥1,095,000 | ¥4,649,000 | **¥30,616,000** |

### 9.2 年額プランのキャッシュフロー特性

**メリット**:
1. **前払いキャッシュ**: 年額一括で先に受領 → 運転資金安定
2. **休眠ユーザーの利益貢献**: ノート完成後セッション消費なし → 純利益
3. **解約心理ハードル**: 月額より「もったいない」感が強い
4. **後半はコストほぼゼロ**: 利用の山は初期に集中

**リスク**:
1. **2年目更新率**: ノート「完成」後の継続動機が課題
2. **返金対応**: クーリングオフ・途中解約
3. **会計処理**: 前受収益として期間按分が必要

### 9.3 LTV（Life Time Value）

| 項目 | 数値 | 根拠 |
|------|------|------|
| ARPU（年間） | ¥12,120 | 加重平均 |
| 粗利率 | 97% | 原価が極めて低い |
| 1年目→2年目更新率 | 70% | ノート完成後の課題 |
| 2年目→3年目更新率 | 85% | データ保存で定着 |
| 平均利用年数 | 3.5年 | 上記更新率から算出 |

```
LTV = ¥12,120 × 0.97 × 3.5 = ¥41,147
```

#### 許容CAC（顧客獲得コスト）

LTV:CAC = 3:1 目標:
```
許容CAC = ¥41,147 / 3 = ¥13,716
```

| チャネル | 推定CPA | 判定 |
|---------|--------|------|
| Google広告 | ¥13,000-33,000 | ギリギリ〜赤字 |
| SEO/コンテンツ | ¥2,000-5,000 | **推奨** |
| 行政書士・FP提携 | ¥3,000-5,000 | **推奨** |
| 終活セミナー | ¥1,000-3,000 | **推奨** |

### 9.4 チャーン対策

| 時期 | 想定チャーン率 | 主な対策 |
|------|-------------|---------|
| トライアル→有料 | 80%離脱 | 音声体験の感動で訴求 |
| 1年目→2年目 | 30%離脱 | 定期見直しリマインド、ライフイベント連動、休止プラン（¥2,000/年） |
| 2年目→3年目 | 15%離脱 | データ保存ニーズで安定 |
| 3年目以降 | 10%離脱 | 長期契約は安定 |

**ノート完成後の継続理由の構築が最大の課題**:
- 月1回の見直しリマインド通知
- 誕生日・年末年始・健康診断時期に更新提案
- 家族のコメントへの返信機能
- 年間サマリーレポート自動生成

### 9.5 決済手段

| Phase | 決済手段 | 備考 |
|-------|---------|------|
| Phase 1（ローンチ） | クレジットカード（Stripe）、Apple/Google Pay | Stripeで一括対応可能 |
| Phase 2（100ユーザー超） | コンビニ払い、キャリア決済 | 高齢者のカード非保有対策 |
| Phase 3（500ユーザー超） | 口座振替、銀行振込 | 年額自動引き落とし |

---

## 10. コスト最適化の具体策

### 10.1 優先順位付きアクションプラン

| 優先度 | アクション | 実装難易度 | 効果 | 備考 |
|--------|----------|----------|------|------|
| ~~**P0**~~ | ~~R2音声90日自動削除~~ | ~~低~~ | ~~ストレージ91%削減~~ | **実装済み** `data-retention.ts` |
| ~~**P0**~~ | ~~improvedTranscript自動クリーンアップ~~ | ~~低~~ | ~~DB中間データ削減~~ | **実装済み** `data-retention.ts` |
| **P0** | gpt-4o-mini → gpt-5-nano移行（TODO生成） | 極低（1行変更） | TODO生成コスト65%削減 + 廃止リスク回避 | `todo-generator.ts` L30 |
| **P0** | 会話一覧APIのカラム制限 | 低（1ファイル） | DB I/O 98%削減 | `conversations.ts` L95-99 |
| **P1** | `users`テーブルに`last_active_at`追加 | 中（マイグレーション） | 将来のクリーンアップの前提 | |
| **P1** | transcript段階的縮減（要家族アクセス再設計） | 高（UI変更含む） | DB容量57%削減 | 家族アクセスが`transcript`を使用するため現時点では不可 |
| **P2** | 月次セッションクォータ実装 | 中 | コスト予測性向上 | `session-limits.ts`拡張 |
| **P2** | AI応答の簡潔化ルール追加 | 低 | 音声出力20%削減 | ~$0.034/セッション節約 |
| **P3** | enhanced-summarizeの選択的実行 | 中 | 再文字起こし50%削減 | 品質スコアベース |
| **P3** | Cloudflare CDN導入（静的ファイル） | 中 | 帯域コスト削減 | 無料 |

### 10.2 Prompt Caching・Batch APIの評価

| 最適化手法 | 適用可否 | 推定効果 | 推奨 |
|-----------|---------|---------|------|
| Prompt Caching（Realtime API） | 未対応 | $0 | 将来期待 |
| Prompt Caching（gpt-5-nano要約） | 自動適用 | ~$0.00004/セッション | 効果微小 |
| Batch API（要約処理） | 可能だがUX劣化 | ~$0.00025/セッション | **非推奨** |
| Batch API（TODO生成） | 可能だが効果不足 | <$0.001/回 | **非推奨** |

> **結論**: コストの89%を占める音声トークンに対してPrompt Caching/Batch APIは適用不可。テキストトークンの最適化は費用対効果が低い。**セッション時間の最適化とAI応答の効率化が最も高い費用対効果**。

### 10.3 スケーラビリティのボトルネック

| ポイント | 発生規模 | 対策 |
|---------|---------|------|
| Railway Hobbyプラン上限 | 100-300ユーザー | Proプラン移行 |
| WebSocket同時接続数 | 1,000-3,000ユーザー | 水平スケーリング |
| JSONBクエリ性能 | 会話100件超/ユーザー | カラム分離、インデックス最適化 |
| インメモリセッション管理 | 複数インスタンス化時 | Redis導入 |
| DB 50GB超過 | 5,000-15,000ユーザー | マネージドDB移行検討 |

---

## 付録A: スケール別月間APIコスト試算

前提: 全ユーザーが平均3セッション/日（最大想定）

| 規模 | セッション/月 | 音声会話 | 要約 | 再文字起こし | TODO | **月間合計** |
|------|-------------|---------|------|------------|------|-----------|
| 10 | 900 | $198 | $0.45 | $21.60 | $1.80 | **$222** |
| 100 | 9,000 | $1,980 | $4.50 | $216 | $18 | **$2,219** |
| 1,000 | 90,000 | $19,800 | $45 | $2,160 | $180 | **$22,185** |

> 上記は全ユーザーが毎日3セッション行う最大想定。実際は30-50%程度になる見込み。

## 付録B: 価格感度テストの推奨

ローンチ前に以下のテストを推奨:

1. **Van Westendorp法（PSM分析）**: 50人以上に「高すぎる/安すぎる/高いが許容/安い」の4価格帯をヒアリング
2. **A/Bテスト**: ¥7,800 vs ¥9,800 vs ¥12,800 の3パターンでLP転換率比較
3. **行政書士ヒアリング**: 顧客の支払い能力・意思
4. **終活セミナーアンケート**: 「月額いくらなら使いたいか」の直接質問

> **検証ポイント**: ¥9,800/年（月額換算¥817）が高齢者にとって「高い」か「妥当」か。新聞購読（月額¥4,000前後）やNHK受信料（月額¥1,100）との比較感覚が参考。

## 付録C: 推奨アクションプラン（時系列）

### 短期（1-3ヶ月）

1. ~~R2音声90日自動削除~~ — **実装済み**（`data-retention.ts`）
2. ~~improvedTranscript自動クリーンアップ~~ — **実装済み**（`data-retention.ts`）
3. ~~分析メタデータ自動クリーンアップ~~ — **実装済み**（`data-retention.ts`）
4. gpt-4o-mini → gpt-5-nano移行（TODO生成）— 1行変更
5. 会話一覧APIのカラム制限 — パフォーマンス改善
6. 料金プランの最終決定（行政書士と議論）
7. Stripe決済の実装
8. 月次セッションクォータの実装

### 中期（3-6ヶ月）

9. 無料トライアルの実装（14日間、2セッション）
10. `last_active_at`追加・非アクティブアカウント検知
11. transcript段階的縮減（家族アクセス再設計が前提）
10. 利用状況ダッシュボード（残りセッション数表示）
11. コンビニ払い対応

### 長期（6-12ヶ月）

12. 休止プラン導入（データ保存のみ¥2,000/年）
13. チャーン対策施策（リマインド、年間レポート）
14. 法人向けプラン（行政書士事務所・介護施設向け）
15. 口座振替対応

---

## 付録D: 参考情報

### 料金情報ソース

- [OpenAI API Pricing](https://developers.openai.com/api/docs/pricing)
- [OpenAI Model Deprecations](https://developers.openai.com/api/docs/deprecations/)
- [Cloudflare R2 Pricing](https://developers.cloudflare.com/r2/pricing/)
- [Railway Pricing](https://railway.com/pricing)
- [Firebase Auth Pricing](https://firebase.google.com/pricing)

### コードベース参照

| ファイル | 内容 |
|---------|------|
| `app/server/src/routes/realtime.ts` | Realtime API接続（gpt-realtime-mini） |
| `app/server/src/services/summarizer.ts` | 会話要約（gpt-5-nano） |
| `app/server/src/services/transcriber.ts` | 音声文字起こし（gpt-4o-mini-transcribe） |
| `app/server/src/lib/todo-generator.ts` | TODO生成（gpt-4o-mini） |
| `app/server/src/lib/session-limits.ts` | セッション制限（3回/日、20分/回） |
| `app/server/src/lib/r2.ts` | Cloudflare R2ストレージ |
| `app/server/src/lib/r2-cleanup.ts` | R2クリーンアップ |
| `app/server/src/db/schema.ts` | データベーススキーマ |
| `app/client/src/lib/constants.ts` | クライアント側定数 |
